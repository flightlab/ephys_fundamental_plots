<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="2.1 R packages &amp; versioning | Fundamental plots for electrophysiological data" />
<meta property="og:type" content="book" />

<meta property="og:description" content="<p>A walkthrough on how to produce fundamental plots from electrophysiological
data. Developed by the Alshuler Lab at the University of British Columbia.</p>" />
<meta name="github-repo" content="flightlab/ephys_fundamental_plots" />

<meta name="author" content="Vikram B. Baliga" />

<meta name="date" content="2023-02-28" />


<meta name="description" content="<p>A walkthrough on how to produce fundamental plots from electrophysiological
data. Developed by the Alshuler Lab at the University of British Columbia.</p>">

<title>2.1 R packages &amp; versioning | Fundamental plots for electrophysiological data</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#about" id="toc-about"><span class="toc-section-number">1</span> About</a>
<ul>
<li><a href="citation.html#citation" id="toc-citation">Citation</a></li>
<li><a href="license.html#license" id="toc-license">License</a></li>
</ul></li>
<li class="has-sub"><a href="2-preface.html#preface" id="toc-preface"><span class="toc-section-number">2</span> Preface</a>
<ul>
<li><a href="2.1-r-packages-versioning.html#r-packages-versioning" id="toc-r-packages-versioning"><span class="toc-section-number">2.1</span> R packages &amp; versioning</a></li>
<li><a href="2.2-not_in.html#not_in" id="toc-not_in"><span class="toc-section-number">2.2</span> <code>%not_in%</code></a></li>
</ul></li>
<li class="has-sub"><a href="3-spike-sorting.html#spike-sorting" id="toc-spike-sorting"><span class="toc-section-number">3</span> Spike sorting</a>
<ul>
<li><a href="3.1-spike2.html#spike2" id="toc-spike2"><span class="toc-section-number">3.1</span> Spike2</a></li>
<li><a href="3.2-neuralynx.html#neuralynx" id="toc-neuralynx"><span class="toc-section-number">3.2</span> Neuralynx</a></li>
</ul></li>
<li class="has-sub"><a href="4-raw-data-and-spike-sorted-traces.html#raw-data-and-spike-sorted-traces" id="toc-raw-data-and-spike-sorted-traces"><span class="toc-section-number">4</span> Raw data and spike sorted traces</a>
<ul>
<li><a href="4.1-including-plots.html#including-plots" id="toc-including-plots"><span class="toc-section-number">4.1</span> Including Plots</a></li>
</ul></li>
<li class="has-sub"><a href="5-data-wrangling.html#data-wrangling" id="toc-data-wrangling"><span class="toc-section-number">5</span> Data wrangling</a>
<ul>
<li class="has-sub"><a href="5.1-import-example-file-and-metadata.html#import-example-file-and-metadata" id="toc-import-example-file-and-metadata"><span class="toc-section-number">5.1</span> Import example file and metadata</a>
<ul>
<li><a href="5.1-import-example-file-and-metadata.html#identify-files-to-import" id="toc-identify-files-to-import"><span class="toc-section-number">5.1.1</span> Identify files to import</a></li>
<li><a href="5.1-import-example-file-and-metadata.html#data-import-and-preliminary-labeling" id="toc-data-import-and-preliminary-labeling"><span class="toc-section-number">5.1.2</span> Data import and preliminary labeling</a></li>
</ul></li>
<li><a href="5.2-organizing-replicates-required-and-binning-optional.html#organizing-replicates-required-and-binning-optional" id="toc-organizing-replicates-required-and-binning-optional"><span class="toc-section-number">5.2</span> Organizing replicates (required) and binning (optional)</a></li>
<li><a href="5.3-data-export.html#data-export" id="toc-data-export"><span class="toc-section-number">5.3</span> Data export</a></li>
</ul></li>
<li class="has-sub"><a href="6-raster-and-mean-spike-rate-plots.html#raster-and-mean-spike-rate-plots" id="toc-raster-and-mean-spike-rate-plots"><span class="toc-section-number">6</span> Raster and mean spike rate plots</a>
<ul>
<li><a href="6.1-including-plots-1.html#including-plots-1" id="toc-including-plots-1"><span class="toc-section-number">6.1</span> Including Plots</a></li>
</ul></li>
<li class="has-sub"><a href="7-spatiotemporal-tuning.html#spatiotemporal-tuning" id="toc-spatiotemporal-tuning"><span class="toc-section-number">7</span> Spatiotemporal tuning</a>
<ul>
<li><a href="7.1-including-plots-2.html#including-plots-2" id="toc-including-plots-2"><span class="toc-section-number">7.1</span> Including Plots</a></li>
</ul></li>
<li class="has-sub"><a href="8-histological-verification.html#histological-verification" id="toc-histological-verification"><span class="toc-section-number">8</span> Histological verification</a>
<ul>
<li><a href="8.1-including-plots-3.html#including-plots-3" id="toc-including-plots-3"><span class="toc-section-number">8.1</span> Including Plots</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="r-packages-versioning" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> R packages &amp; versioning</h2>
<p>The R packages listed below will be necessary at some point over the course of
this book. I recommend installing them all now. The block of code below is
designed to first check if each of the listed packages is already installed on
your computer. If any is missing, then an attempt is made to install it from
CRAN. Finally, all of the packages are loaded into the environment.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="2.1-r-packages-versioning.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Specify the packages you&#39;ll use in the script</span></span>
<span id="cb1-2"><a href="2.1-r-packages-versioning.html#cb1-2" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;tidyverse&quot;</span>,</span>
<span id="cb1-3"><a href="2.1-r-packages-versioning.html#cb1-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;readxl&quot;</span>,</span>
<span id="cb1-4"><a href="2.1-r-packages-versioning.html#cb1-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;zoo&quot;</span>,</span>
<span id="cb1-5"><a href="2.1-r-packages-versioning.html#cb1-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;gridExtra&quot;</span>,</span>
<span id="cb1-6"><a href="2.1-r-packages-versioning.html#cb1-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;R.matlab&quot;</span>,</span>
<span id="cb1-7"><a href="2.1-r-packages-versioning.html#cb1-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;cowplot&quot;</span>,</span>
<span id="cb1-8"><a href="2.1-r-packages-versioning.html#cb1-8" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;easystats&quot;</span>,</span>
<span id="cb1-9"><a href="2.1-r-packages-versioning.html#cb1-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;circular&quot;</span>,</span>
<span id="cb1-10"><a href="2.1-r-packages-versioning.html#cb1-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;splines&quot;</span>,</span>
<span id="cb1-11"><a href="2.1-r-packages-versioning.html#cb1-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;MESS&quot;</span>, <span class="do">## area under curve</span></span>
<span id="cb1-12"><a href="2.1-r-packages-versioning.html#cb1-12" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;zoo&quot;</span> <span class="do">## rolling means</span></span>
<span id="cb1-13"><a href="2.1-r-packages-versioning.html#cb1-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-14"><a href="2.1-r-packages-versioning.html#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Now for each package listed, first check to see if the package is already</span></span>
<span id="cb1-15"><a href="2.1-r-packages-versioning.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="do">## installed. If it is installed, it&#39;s simply loaded. If not, it&#39;s downloaded </span></span>
<span id="cb1-16"><a href="2.1-r-packages-versioning.html#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="do">## from CRAN and then installed and loaded.</span></span>
<span id="cb1-17"><a href="2.1-r-packages-versioning.html#cb1-17" aria-hidden="true" tabindex="-1"></a>package.check <span class="ot">&lt;-</span> <span class="fu">lapply</span>(packages,</span>
<span id="cb1-18"><a href="2.1-r-packages-versioning.html#cb1-18" aria-hidden="true" tabindex="-1"></a>                        <span class="at">FUN =</span> <span class="cf">function</span>(x) {</span>
<span id="cb1-19"><a href="2.1-r-packages-versioning.html#cb1-19" aria-hidden="true" tabindex="-1"></a>                          <span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb1-20"><a href="2.1-r-packages-versioning.html#cb1-20" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">install.packages</span>(x, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-21"><a href="2.1-r-packages-versioning.html#cb1-21" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">library</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-22"><a href="2.1-r-packages-versioning.html#cb1-22" aria-hidden="true" tabindex="-1"></a>                          }</span>
<span id="cb1-23"><a href="2.1-r-packages-versioning.html#cb1-23" aria-hidden="true" tabindex="-1"></a>                        }</span>
<span id="cb1-24"><a href="2.1-r-packages-versioning.html#cb1-24" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>I will use the <code>sessionInfo()</code> command to detail the specific versions of
packages I am using (along with other information about my R session). Please
note that I am not suggesting you obtain exactly the same version of each
package listed below. Instead, the information below is meant to help you assess
whether package versioning underlies any trouble you may encounter.</p>
<pre><code>## R version 4.2.2 (2022-10-31 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 19045)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_United States.utf8 
## [2] LC_CTYPE=English_United States.utf8   
## [3] LC_MONETARY=English_United States.utf8
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.utf8    
## 
## attached base packages:
## [1] splines   stats     graphics  grDevices utils     datasets  methods  
## [8] base     
## 
## other attached packages:
##  [1] MESS_0.5.9         circular_0.4-95    see_0.7.4          report_0.5.6      
##  [5] parameters_0.20.2  performance_0.10.2 modelbased_0.8.6   insight_0.19.0    
##  [9] effectsize_0.8.3   datawizard_0.6.5   correlation_0.8.3  bayestestR_0.13.0 
## [13] easystats_0.6.0    cowplot_1.1.1      R.matlab_3.7.0     gridExtra_2.3     
## [17] zoo_1.8-11         readxl_1.4.2       lubridate_1.9.2    forcats_1.0.0     
## [21] stringr_1.5.0      dplyr_1.1.0        purrr_1.0.1        readr_2.1.4       
## [25] tidyr_1.3.0        tibble_3.1.8       ggplot2_3.4.1      tidyverse_2.0.0   
## 
## loaded via a namespace (and not attached):
##  [1] tools_4.2.2        backports_1.4.1    bslib_0.4.2        utf8_1.2.3        
##  [5] R6_2.5.1           colorspace_2.1-0   withr_2.5.0        tidyselect_1.2.0  
##  [9] emmeans_1.8.4-1    compiler_4.2.2     cli_3.6.0          bookdown_0.32     
## [13] sass_0.4.5         mosaicCore_0.9.2.1 scales_1.2.1       mvtnorm_1.1-3     
## [17] ggridges_0.5.4     digest_0.6.31      ggformula_0.10.2   rmarkdown_2.20    
## [21] R.utils_2.12.2     pkgconfig_2.0.3    htmltools_0.5.4    geeM_0.10.1       
## [25] labelled_2.10.0    fastmap_1.1.1      rlang_1.0.6        rstudioapi_0.14   
## [29] jquerylib_0.1.4    generics_0.1.3     farver_2.1.1       jsonlite_1.8.4    
## [33] R.oo_1.25.0        magrittr_2.0.3     Matrix_1.5-1       Rcpp_1.0.10       
## [37] munsell_0.5.0      fansi_1.0.4        geepack_1.3.9      lifecycle_1.0.3   
## [41] R.methodsS3_1.8.2  stringi_1.7.12     yaml_2.3.7         MASS_7.3-58.2     
## [45] ggstance_0.3.6     grid_4.2.2         lattice_0.20-45    haven_2.5.1       
## [49] hms_1.1.2          knitr_1.42         pillar_1.8.1       boot_1.3-28       
## [53] estimability_1.4.1 glue_1.6.2         evaluate_0.20      vctrs_0.5.2       
## [57] tzdb_0.3.0         tweenr_2.0.2       cellranger_1.1.0   gtable_0.3.1      
## [61] polyclip_1.10-4    cachem_1.0.7       xfun_0.37          ggforce_0.4.1     
## [65] xtable_1.8-4       broom_1.0.3        coda_0.19-4        timechange_0.2.0  
## [69] ellipsis_0.3.2</code></pre>
</div>
<p style="text-align: center;">
<a href="2-preface.html"><button class="btn btn-default">Previous</button></a>
<a href="2.2-not_in.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
